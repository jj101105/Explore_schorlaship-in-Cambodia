<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Scholarships | Scholarship Platform</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
       body {
      font-family: "Inter", sans-serif;
      margin: 0;
      background-color: #f0f2f5;
    }
    .header {
      background-color: #fff;
      width: 100%;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      position: sticky;
      top: 0;
      z-index: 100;
      display: flex;
      flex-direction: column; /* Stack vertically */
      align-items: stretch;
    }
    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
    }
    .header-logo {
      font-size: 1.5rem;
      font-weight: 700;
      color: #3b82f6;
      letter-spacing: -1px;
    }
    nav {
      display: flex;
      align-items: center;
      gap: 1.5rem;
    }
    .nav-link {
      color: #4b5563;
      font-weight: 500;
      text-decoration: none;
      transition: color 0.2s;
      font-size: 1rem;
    }
    .nav-link:hover,
    .nav-link:focus {
      color: #2563eb;
      outline: none;
    }
    /* Filter buttons container */
    .filter-container {
      border-top: 1px solid #e5e7eb;
      padding: 0.5rem 2rem;
      overflow-x: auto;
      white-space: nowrap;
      scrollbar-width: none; /* Firefox */
    }
    .filter-container::-webkit-scrollbar {
      display: none; /* Chrome, Safari */
    }
    #filterButtons {
      display: inline-flex;
      gap: 0.75rem;
    }
    .filter-btn {
      font-size: 0.875rem;
      padding: 0.5rem 1.25rem;
      border-radius: 9999px; /* fully rounded */
      cursor: pointer;
      user-select: none;
      border: 1px solid transparent;
      transition: background-color 0.2s, color 0.2s;
    }
    .filter-btn.active,
    .filter-btn:focus {
      background-color: #2563eb;
      color: white;
      outline: none;
      border-color: transparent;
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.5);
    }
    .filter-btn:not(.active) {
      background-color: white;
      color: #4b5563;
      border-color: #d1d5db;
    }
    .filter-btn:not(.active):hover {
      background-color: #f3f4f6;
      color: #2563eb;
    } 



        .search-bar input {
            border-radius: 1.5rem;
            padding-left: 2.5rem;
        }
        .search-bar i {
            left: 1rem;
        }
        .scholarship-card {
            transition: box-shadow 0.2s, transform 0.2s;
            cursor: pointer; /* Indicate clickability */
        }
        .scholarship-card:hover, .scholarship-card:focus-within {
            box-shadow: 0 8px 24px rgba(59,130,246,0.13);
            transform: translateY(-4px) scale(1.01);
            outline: none;
        }
        .footer-links a {
            color: #93c5fd;
            margin: 0 0.75rem;
            text-decoration: none;
            transition: color 0.2s;
        }
        .footer-links a:hover, .footer-links a:focus {
            color: #60a5fa;
            outline: none;
        }
        .social-icons a {
            color: #d1d5db;
            font-size: 1.5rem;
            margin: 0 0.75rem;
            transition: color 0.2s;
        }
        .social-icons a:hover, .social-icons a:focus {
            color: #fff;
            outline: none;
        }
        @media (max-width: 900px) {
            .scholarship-card {
                min-height: 0;
            }
        }
        /* Custom scrollbar for main content area */
        .scrollable-content::-webkit-scrollbar {
            width: 8px;
        }
        .scrollable-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .scrollable-content::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        .scrollable-content::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        /* Modal specific styles */
        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.75);
        }
        .modal-content {
            animation: fadeInScale 0.3s ease-out forwards;
        }
        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        .detail-section {
            padding: 1.5rem; /* Default padding */
            margin-bottom: 1rem; /* Default margin */
        }
        @media (min-width: 768px) { /* Adjust padding for larger screens */
            .detail-section {
                padding: 2rem;
            }
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header Section -->
    <header class="bg-white p-4 shadow-sm sticky top-0 z-50">
        <div class="container mx-auto flex items-center justify-between">
            <div class="flex items-center space-x-3">
                <div class="header-logo">Exploring Scholarship in Cambodia</div>
            </div>
            <nav class="flex items-center">
                <a href="index.html" class="nav-link">Home</a>
                 <a href="recmm.html" class="nav-link">Quizzes</a> 
                 <a href="university-list.html" class="nav-link">Universities</a>
                <a href="all-scholarship.html" class="nav-link">Scholarships</a>
               
                                <!-- Profile Icon with Dropdown -->
                <div class="relative">
                    <button id="profileIconBtn" class="text-gray-700 hover:text-blue-600 text-2xl focus:outline-none" aria-label="Profile">
                        <i class="fas fa-user-circle"></i>
                    </button>
                    <div id="profileDropdown" class="hidden absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg z-50">
                        <a href="user-dashboard.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Dashboard</a>
                        <a href="history.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Recent</a>
                        <button onclick="handleLogout()" class="w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100">Logout</button>
                    </div>
                </div>

            </nav>
        </div>

        <!-- Search Bar -->
        <div class="container mx-auto mt-4 px-4">
            <form class="relative search-bar" onsubmit="event.preventDefault(); doScholarshipSearch();">
                <input id="scholarshipSearchInput" type="text" placeholder="Search Scholarships..." class="w-full pl-10 pr-4 py-2 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm" aria-label="Search Scholarships">
                <i class="fas fa-search absolute left-6 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                <button type="submit" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-blue-600 text-white px-3 py-1 rounded-full hover:bg-blue-700 transition-colors" aria-label="Search">
                    <i class="fas fa-arrow-right"></i>
                </button>
            </form>
        </div>
        <!-- Filter Buttons -->
        <div class="container mx-auto mt-4 overflow-x-auto whitespace-nowrap scrollbar-hide">
            <div id="filterButtons" class="inline-flex space-x-3 pb-2 px-4">
                <button class="filter-btn bg-blue-600 text-white px-5 py-2 rounded-full shadow-md hover:bg-blue-700 transition-colors text-sm active" data-filter="All" tabindex="0">All</button>
                <button class="filter-btn bg-white text-gray-700 px-5 py-2 rounded-full border border-gray-300 shadow-sm hover:bg-gray-100 transition-colors text-sm" data-filter="Bachelor" tabindex="0">Bachelor</button>
                <button class="filter-btn bg-white text-gray-700 px-5 py-2 rounded-full border border-gray-300 shadow-sm hover:bg-gray-100 transition-colors text-sm" data-filter="Master" tabindex="0">Master</button>
                <button class="filter-btn bg-white text-gray-700 px-5 py-2 rounded-full border border-gray-300 shadow-sm hover:bg-gray-100 transition-colors text-sm" data-filter="Fully Funded" tabindex="0">Fully Funded</button>
                <button class="filter-btn bg-white text-gray-700 px-5 py-2 rounded-full border border-gray-300 shadow-sm hover:bg-gray-100 transition-colors text-sm" data-filter="Partially Funded" tabindex="0">Partially Funded</button>
                <button class="filter-btn bg-white text-gray-700 px-5 py-2 rounded-full border border-gray-300 shadow-sm hover:bg-gray-100 transition-colors text-sm" data-filter="STEM" tabindex="0">STEM</button>
                <button class="filter-btn bg-white text-gray-700 px-5 py-2 rounded-full border border-gray-300 shadow-sm hover:bg-gray-100 transition-colors text-sm" data-filter="Humanities" tabindex="0">Humanities</button>
                <button class="filter-btn bg-white text-gray-700 px-5 py-2 rounded-full border border-gray-300 shadow-sm hover:bg-gray-100 transition-colors text-sm" data-filter="Business" tabindex="0">Business</button>
            </div>
        </div>
    </header>

    <!-- Main Content Section -->
    <main class="flex-grow container mx-auto p-4 pt-0 overflow-y-auto scrollable-content">
        <!-- Scholarship List View -->
        <div id="scholarshipListView">
            <h2 class="text-lg font-semibold text-gray-800 mb-4 mt-4">The Latest Scholarships in Cambodia</h2>
            <!-- Scholarship Cards Grid -->
            <div id="scholarshipCardsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Scholarship cards will be dynamically loaded here -->
            </div>

        </div>

        <!-- Scholarship Detail View (Initially hidden) -->
        <div id="scholarshipDetailView" class="hidden">
            <button id="backToScholarshipsBtn" class="bg-gray-200 text-gray-700 px-4 py-2 rounded-full mb-4 hover:bg-gray-300 transition-colors">
                <i class="fas fa-arrow-left mr-2"></i>Back to Scholarships
            </button>

            <div class="bg-white rounded-xl shadow-md p-6 mb-4 detail-section">
                <div class="flex items-start justify-between mb-4">
                    <div class="flex items-center">
                        <img id="detailScholarshipLogo" src="" alt="Scholarship Logo" class="rounded-full mr-4 w-12 h-12 shadow-sm">
                        <div>
                            <h3 id="detailScholarshipTitle" class="font-semibold text-gray-900 text-xl"></h3>
                            <p id="detailScholarshipSubtitle" class="text-gray-600 text-base"></p>
                        </div>
                    </div>
                    <button class="text-gray-500 hover:text-red-500 transition-colors" aria-label="Favorite">
                        <i class="far fa-heart text-2xl"></i>
                    </button>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4 text-gray-700 text-base mb-6">
                    <p><i class="fas fa-map-marker-alt text-blue-500 mr-2"></i>Study in: <span id="detailStudyIn" class="font-medium"></span></p>
                    <p><i class="fas fa-tag text-blue-500 mr-2"></i>Type: <span id="detailType" class="font-medium"></span></p>
                    <p><i class="fas fa-graduation-cap text-blue-500 mr-2"></i>Degree: <span id="detailDegree" class="font-medium"></span></p>
                    <p><i class="fas fa-calendar-alt text-blue-500 mr-2"></i>Deadline: <span id="detailDeadline" class="font-medium"></span></p>
                </div>
                <div class="flex justify-end border-t border-gray-200 pt-4">
                    <button class="flex items-center text-gray-600 hover:text-blue-600 transition-colors text-sm mr-4" aria-label="Q&As">
                        <i class="far fa-comments mr-2"></i>Q&As
                    </button>
                    <button class="flex items-center text-gray-600 hover:text-blue-600 transition-colors text-sm" aria-label="Share">
                        <i class="fas fa-share-alt mr-2"></i>Share
                    </button>
                </div>
            </div>

            <!-- Scholarship Description -->
            <div class="bg-white rounded-xl shadow-md p-6 mb-4 detail-section">
                <h4 class="font-semibold text-gray-800 text-lg mb-3">Scholarship Description</h4>
                <p id="detailDescription" class="text-gray-700 text-base leading-relaxed"></p>
            </div>

            <!-- Scholarship Benefits -->
            <div class="bg-white rounded-xl shadow-md p-6 mb-4 detail-section">
                <h4 class="font-semibold text-gray-800 text-lg mb-3">Scholarship Benefits</h4>
                <ul id="detailBenefits" class="list-disc list-inside text-gray-700 text-base space-y-1">
                    <!-- Benefits will be dynamically loaded here -->
                </ul>
            </div>

            <!-- University & Major -->
            <div class="bg-white rounded-xl shadow-md p-6 mb-4 detail-section">
                <h4 class="font-semibold text-gray-800 text-lg mb-3">University</h4>
                <p id="detailUniversity" class="text-gray-700 text-base mb-4"></p>
                <h4 class="font-semibold text-gray-800 text-lg mb-3">Major</h4>
                <p id="detailMajor" class="text-gray-700 text-base"></p>
            </div>

            <!-- Eligibility Requirements -->
            <div class="bg-white rounded-xl shadow-md p-6 mb-4 detail-section">
                <h4 class="font-semibold text-gray-800 text-lg mb-3">Eligibility Requirements</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2 text-gray-700 text-base mb-4">
                    <p>GPA: <span id="detailGPA" class="font-medium"></span></p>
                    <p>Maximum Age: <span id="detailMaxAge" class="font-medium"></span></p>
                    <p>Grade: <span id="detailGrade" class="font-medium"></span></p>
                    <p>Gender: <span id="detailGender" class="font-medium"></span></p>
                    <p>IELTS: <span id="detailIELTS" class="font-medium"></span></p>
                    <p>Work Experience: <span id="detailWorkExperience" class="font-medium"></span></p>
                </div>
                <h5 class="font-semibold text-gray-800 text-base mb-2">Requirement Detailed</h5>
                <ul id="detailDetailedRequirements" class="list-disc list-inside text-gray-700 text-base space-y-1">
                    <!-- Detailed requirements will be dynamically loaded here -->
                </ul>
            </div>

            <!-- Eligibility Countries -->
            <div class="bg-white rounded-xl shadow-md p-6 mb-4 detail-section">
                <h4 class="font-semibold text-gray-800 text-lg mb-3">Eligibility Countries</h4>
                <ul id="detailEligibleCountries" class="list-disc list-inside text-gray-700 text-base space-y-1">
                    <!-- Eligible countries will be dynamically loaded here -->
                </ul>
            </div>

            <!-- Required Documents -->
            <div class="bg-white rounded-xl shadow-md p-6 mb-4 detail-section">
                <h4 class="font-semibold text-gray-800 text-lg mb-3">Required Document</h4>
                <ul id="detailRequiredDocuments" class="list-disc list-inside text-gray-700 text-base space-y-1">
                    <!-- Required documents will be dynamically loaded here -->
                </ul>
            </div>

            <!-- How to Apply -->
            <div class="bg-white rounded-xl shadow-md p-6 mb-4 detail-section">
                <h4 class="font-semibold text-gray-800 text-lg mb-3">How to Apply</h4>
                <p id="detailHowToApply" class="text-gray-700 text-base leading-relaxed"></p>
            </div>

            <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4 mt-6">
                <button class="bg-blue-600 text-white px-6 py-3 rounded-xl shadow-md hover:bg-blue-700 transition-colors text-lg font-semibold">
                    Apply with us
                </button>
                <button class="bg-gray-200 text-gray-800 px-6 py-3 rounded-xl shadow-md hover:bg-gray-300 transition-colors text-lg font-semibold">
                    Official Link
                </button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white p-6 text-center text-sm mt-8">
        <div class="flex flex-col md:flex-row justify-between items-center max-w-5xl mx-auto">
            <div class="footer-links mb-2">
                <a href="#">Terms of Use</a> |
                <a href="#">Privacy Policy</a> |
                <a href="#">Return Policy</a>
            </div>
            <div class="social-icons mb-2">
                <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
            </div>
        </div>
        <p class="mt-2">&copy; 2025 Scholarship Platform. All rights reserved.</p>
    </footer>

    <!-- Login/Signup Modal -->
    <div id="authModal" class="hidden fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50 p-4">
        <div class="bg-white p-8 rounded-xl shadow-2xl max-w-md w-full modal-content relative">
            <button id="closeModalBtn" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl" aria-label="Close modal">
                &times;
            </button>
            <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">Sign In or Sign Up</h2>
            <form id="authForm" onsubmit="event.preventDefault(); handleAuth();">
                <div class="mb-4">
                    <label for="email" class="block text-gray-700 text-sm font-semibold mb-2">Email</label>
                    <input type="email" id="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="your@example.com" required>
                </div>
                <div class="mb-6">
                    <label for="password" class="block text-gray-700 text-sm font-semibold mb-2">Password</label>
                    <input type="password" id="password" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="********" required>
                </div>
                <div class="flex flex-col space-y-3">
                    <button type="submit" id="loginBtn" class="bg-blue-600 text-white py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors">
                        Log In
                    </button>
                    <button type="button" id="signupBtn" class="bg-gray-200 text-gray-800 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-colors">
                        Sign Up
                    </button>
                </div>
            </form>
            <p id="authMessage" class="text-center text-sm mt-4 text-red-500 hidden"></p>
        </div>
    </div>

    <script>
        // Sample Scholarship Data (10 entries for Cambodia)
        const scholarshipsData = [
            {
                id: 'rupp-general-1',
                title: 'RUPP General Bachelor Scholarship',
                subtitle: '(For Cambodian Students)',
                logo: 'https://placehold.co/40x40/f0f8ff/007bff?text=RUPP',
                favorites: 45,
                tags: ['Bachelor', 'Partially Funded', 'Cambodia', 'General'],
                details: {
                    studyIn: 'Cambodia',
                    type: 'Partially Funded',
                    degree: 'Bachelor',
                    deadline: '30-Sep-2025'
                },
                description: 'The Royal University of Phnom Penh (RUPP) offers scholarships for outstanding Cambodian high school graduates. This scholarship covers a portion of tuition fees for various bachelor\'s degree programs across different faculties.',
                benefits: [
                    'Partial tuition fee waiver (50%)', 'Access to university facilities',
                    'Mentorship program with faculty members', 'Opportunity to participate in research projects'
                ],
                university: 'Royal University of Phnom Penh (RUPP)',
                major: 'Various (Arts, Science, Social Sciences)',
                eligibility: {
                    gpa: '3.5+', maxAge: '20', grade: 'High School Graduate', gender: 'Any', ielts: 'Not required', workExperience: 'Not required',
                    detailedRequirements: [
                        'Cambodian citizenship', 'Excellent academic record from high school',
                        'Pass RUPP entrance examination', 'Demonstrate financial need (optional for full consideration)'
                    ]
                },
                eligibleCountries: ['Cambodia'],
                requiredDocuments: [
                    'High school transcript', 'National ID card copy', 'Application form',
                    'Passport-sized photos', 'Recommendation letter from high school principal'
                ],
                howToApply: 'Submit the application form and required documents to the RUPP Admissions Office. Shortlisted candidates will be invited for an interview and a written exam.'
            },
            {
                id: 'moeys-equity-2',
                title: 'MoEYS Equity Scholarship Program',
                subtitle: '(For Underprivileged Cambodian Students)',
                logo: 'https://placehold.co/40x40/e6f7ff/0056b3?text=MOEYS',
                favorites: 60,
                tags: ['Bachelor', 'Fully Funded', 'Cambodia', 'Equity'],
                details: {
                    studyIn: 'Cambodia',
                    type: 'Fully Funded',
                    degree: 'Bachelor',
                    deadline: '15-Oct-2025'
                },
                description: 'The Ministry of Education, Youth and Sport (MoEYS) provides scholarships to support talented students from remote or economically disadvantaged backgrounds across Cambodia. This program aims to ensure equitable access to higher education.',
                benefits: [
                    'Full tuition fees', 'Monthly living stipend', 'Accommodation support',
                    'Textbook allowance', 'Transportation assistance', 'Mentoring and support services'
                ],
                university: 'Various Public Universities in Cambodia',
                major: 'All Fields of Study',
                eligibility: {
                    gpa: '3.0+', maxAge: '22', grade: 'High School Graduate', gender: 'Any', ielts: 'Not required', workExperience: 'Not required',
                    detailedRequirements: [
                        'Cambodian citizenship', 'Proof of low-income household',
                        'Residency in a rural or remote area', 'Strong commitment to community development'
                    ]
                },
                eligibleCountries: ['Cambodia'],
                requiredDocuments: [
                    'Family income certificate', 'Residential proof', 'High school diploma',
                    'Personal statement', 'Two recommendation letters'
                ],
                howToApply: 'Applications are managed through provincial education departments. Students must submit their documents to their local education office, which will then forward eligible applications to MoEYS for review.'
            },
            {
                id: 'cambodia-korea-it-3',
                title: 'Cambodia-Korea IT & Engineering Scholarship',
                subtitle: '(Joint Program for STEM Fields)',
                logo: 'https://placehold.co/40x40/e0f7e0/008000?text=KOR',
                favorites: 55,
                tags: ['Bachelor', 'Fully Funded', 'Cambodia', 'STEM', 'IT', 'Engineering'],
                details: {
                    studyIn: 'Cambodia',
                    type: 'Fully Funded',
                    degree: 'Bachelor',
                    deadline: '01-Nov-2025'
                },
                description: 'A collaborative scholarship program between the Cambodian and Korean governments, focusing on developing skilled professionals in Information Technology and Engineering. Students will study at selected technical universities in Cambodia.',
                benefits: [
                    'Full tuition coverage', 'Monthly stipend for living expenses',
                    'Opportunity for short-term exchange to South Korea', 'Access to advanced labs and equipment'
                ],
                university: 'Institute of Technology of Cambodia (ITC), Royal University of Phnom Penh (RUPP)',
                major: 'Information Technology, Computer Science, Electrical Engineering, Civil Engineering',
                eligibility: {
                    gpa: '3.8+', maxAge: '21', grade: 'High School Graduate (Science Stream)', gender: 'Any', ielts: '5.5 (preferred)', workExperience: 'Not required',
                    detailedRequirements: [
                        'Cambodian citizenship', 'Strong academic performance in science and math',
                        'Interest in IT or Engineering fields', 'Successful completion of an interview'
                    ]
                },
                eligibleCountries: ['Cambodia'],
                requiredDocuments: [
                    'High school academic record', 'Motivation letter', 'Proof of Cambodian nationality',
                    'English proficiency certificate (if available)', 'Recommendation from science teacher'
                ],
                howToApply: 'Applications are accepted online through the Ministry of Education website. Shortlisted candidates will undergo a technical aptitude test and an interview with representatives from both countries.'
            },
            {
                id: 'japan-cambodia-agri-4',
                title: 'Japan-Cambodia Friendship Scholarship for Agriculture',
                subtitle: '(Rural Development Focus)',
                logo: 'https://placehold.co/40x40/f7e0f7/800080?text=JPN',
                favorites: 40,
                tags: ['Bachelor', 'Fully Funded', 'Cambodia', 'Agriculture', 'Rural Development'],
                details: {
                    studyIn: 'Cambodia',
                    type: 'Fully Funded',
                    degree: 'Bachelor',
                    deadline: '20-Oct-2025'
                },
                description: 'This scholarship, funded by the Japanese government, aims to support Cambodian students pursuing studies in agriculture and rural development, contributing to the sustainable growth of Cambodia\'s agricultural sector.',
                benefits: [
                    'Full tuition and university fees', 'Monthly living allowance',
                    'Annual research grant', 'Opportunity for field trips and practical training',
                    'Japanese language training'
                ],
                university: 'Royal University of Agriculture (RUA)',
                major: 'Agronomy, Animal Science, Fisheries, Rural Development',
                eligibility: {
                    gpa: '3.2+', maxAge: '23', grade: 'High School Graduate', gender: 'Any', ielts: 'Not required', workExperience: 'Preferred (agricultural background)',
                    detailedRequirements: [
                        'Cambodian citizenship', 'Interest in agriculture and rural development',
                        'Commitment to working in rural areas after graduation', 'Good health'
                    ]
                },
                eligibleCountries: ['Cambodia'],
                requiredDocuments: [
                    'High school diploma and transcripts', 'Personal essay on agricultural interest',
                    'Two academic references', 'Health certificate'
                ],
                howToApply: 'Applications are submitted directly to the Royal University of Agriculture. A selection committee, including Japanese representatives, will review applications and conduct interviews.'
            },
            {
                id: 'asean-exchange-5',
                title: 'ASEAN Scholarship for Cambodian Students',
                subtitle: '(Intra-ASEAN Exchange Program)',
                logo: 'https://placehold.co/40x40/e0f0f7/007bff?text=ASEAN',
                favorites: 30,
                tags: ['Bachelor', 'Partially Funded', 'Cambodia', 'Exchange', 'Regional'],
                details: {
                    studyIn: 'Cambodia',
                    type: 'Partially Funded',
                    degree: 'Bachelor',
                    deadline: '05-Dec-2025'
                },
                description: 'This scholarship facilitates academic exchange within the ASEAN region, allowing Cambodian students to pursue specific fields of study at partner universities in Cambodia with partial financial support.',
                benefits: [
                    'Partial tuition subsidy', 'Monthly stipend for living expenses',
                    'Opportunity for short-term exchange to other ASEAN countries', 'Networking with ASEAN peers'
                ],
                university: 'National University of Management (NUM), Pannasastra University of Cambodia (PUC)',
                major: 'International Relations, Economics, Tourism, Business Administration',
                eligibility: {
                    gpa: '3.4+', maxAge: '22', grade: 'High School Graduate', gender: 'Any', ielts: '6.0', workExperience: 'Not required',
                    detailedRequirements: [
                        'Cambodian citizenship', 'Strong interest in ASEAN affairs',
                        'Good communication skills', 'Leadership potential'
                    ]
                },
                eligibleCountries: ['Cambodia (for study in Cambodia)'],
                requiredDocuments: [
                    'Academic transcripts', 'Statement of purpose', 'English proficiency test results',
                    'Passport copy', 'Two letters of recommendation'
                ],
                howToApply: 'Applications are handled by the international relations office of participating Cambodian universities. Students should contact their desired university for specific application procedures and deadlines.'
            },
            {
                id: 'acleda-business-6',
                title: 'ACLEDA Institute of Business Scholarship',
                subtitle: '(For Business & Finance Studies)',
                logo: 'https://placehold.co/40x40/fff0e0/ff8c00?text=AIB',
                favorites: 38,
                tags: ['Bachelor', 'Partially Funded', 'Cambodia', 'Business', 'Finance'],
                details: {
                    studyIn: 'Cambodia',
                    type: 'Partially Funded',
                    degree: 'Bachelor',
                    deadline: '10-Jan-2026'
                },
                description: 'The ACLEDA Institute of Business offers scholarships to talented Cambodian students pursuing degrees in business, finance, and banking, aiming to cultivate future leaders in the financial sector.',
                benefits: [
                    'Tuition fee reduction (up to 75%)', 'Internship opportunities at ACLEDA Bank',
                    'Mentorship from industry professionals', 'Career development workshops'
                ],
                university: 'ACLEDA Institute of Business',
                major: 'Banking and Finance, Business Administration, Accounting',
                eligibility: {
                    gpa: '3.6+', maxAge: '20', grade: 'High School Graduate', gender: 'Any', ielts: 'Not required', workExperience: 'Not required',
                    detailedRequirements: [
                        'Cambodian citizenship', 'Strong interest in business and finance',
                        'Excellent analytical and problem-solving skills', 'Successful interview performance'
                    ]
                },
                eligibleCountries: ['Cambodia'],
                requiredDocuments: [
                    'High school academic records', 'Personal statement', 'National ID copy',
                    'Financial need assessment form (optional)', 'Recommendation letter'
                ],
                howToApply: 'Apply directly to the ACLEDA Institute of Business. The selection process includes an entrance exam, an interview, and a review of academic records.'
            },
            {
                id: 'french-embassy-7',
                title: 'French Embassy Scholarship for Cambodia',
                subtitle: '(For French Language & Science Studies)',
                logo: 'https://placehold.co/40x40/e0e0f7/0000ff?text=FRA',
                favorites: 25,
                tags: ['Bachelor', 'Master', 'Partially Funded', 'Cambodia', 'French', 'Science'],
                details: {
                    studyIn: 'Cambodia',
                    type: 'Partially Funded',
                    degree: 'Bachelor/Master',
                    deadline: '25-Dec-2025'
                },
                description: 'The French Embassy in Cambodia offers scholarships for Cambodian students interested in pursuing higher education in French language, literature, or specific scientific fields at Cambodian universities with French partnerships.',
                benefits: [
                    'Partial tuition fees', 'French language course subsidies',
                    'Cultural exchange opportunities', 'Access to French academic resources'
                ],
                university: 'Royal University of Phnom Penh (RUPP), Institute of Technology of Cambodia (ITC)',
                major: 'French Language, Physics, Chemistry, Biology, Mathematics',
                eligibility: {
                    gpa: '3.3+', maxAge: '25', grade: 'High School Graduate (for Bachelor), Bachelor\'s Degree (for Master)', gender: 'Any', ielts: 'Not required (DELF/DALF preferred)', workExperience: 'Not required',
                    detailedRequirements: [
                        'Cambodian citizenship', 'Proficiency in French (or willingness to learn)',
                        'Strong academic background in chosen field', 'Motivation to contribute to Cambodia-France relations'
                    ]
                },
                eligibleCountries: ['Cambodia'],
                requiredDocuments: [
                    'Academic transcripts', 'Motivation letter in French', 'French language certificate (if any)',
                    'CV', 'Two academic references'
                ],
                howToApply: 'Applications are submitted to the Cooperation and Cultural Action Service of the French Embassy in Phnom Penh. Interviews will be conducted in French.'
            },
            {
                id: 'chinese-govt-cambodia-8',
                title: 'Chinese Government Scholarship (CGS) for Cambodia',
                subtitle: '(Various Fields)',
                logo: 'https://placehold.co/40x40/f7e7e7/ff0000?text=CHN',
                favorites: 70,
                tags: ['Bachelor', 'Master', 'PhD', 'Fully Funded', 'Cambodia', 'China'],
                details: {
                    studyIn: 'Cambodia (with potential for exchange)',
                    type: 'Fully Funded',
                    degree: 'Bachelor/Master/PhD',
                    deadline: '01-Mar-2026'
                },
                description: 'The Chinese Government Scholarship program supports Cambodian students to pursue higher education in various fields at designated universities in Cambodia, often with opportunities for exchange programs in China.',
                benefits: [
                    'Full tuition fees', 'Monthly living stipend', 'Accommodation allowance',
                    'Comprehensive medical insurance', 'Research support'
                ],
                university: 'Royal University of Phnom Penh (RUPP), National University of Management (NUM), Institute of Technology of Cambodia (ITC)',
                major: 'All Fields of Study',
                eligibility: {
                    gpa: 'N/A', maxAge: '25 (Bachelor), 35 (Master), 40 (PhD)', grade: 'High School Diploma (Bachelor), Bachelor\'s Degree (Master), Master\'s Degree (PhD)', gender: 'Any', ielts: 'Not strictly required (HSK preferred)', workExperience: 'Varies by program',
                    detailedRequirements: [
                        'Cambodian citizenship', 'Good academic standing', 'Good health',
                        'Non-Chinese citizen', 'Meet specific university admission requirements'
                    ]
                },
                eligibleCountries: ['Cambodia'],
                requiredDocuments: [
                    'CGS application form', 'Notarized highest diploma', 'Academic transcripts',
                    'Study plan/Research proposal', 'Two recommendation letters', 'Passport copy',
                    'Physical Examination Form'
                ],
                howToApply: 'Applicants can apply through the Cambodian Ministry of Education, Youth and Sport or directly to the Chinese Embassy in Cambodia. The application process is highly competitive.'
            },
            {
                id: 'ngo-community-9',
                title: 'Local NGO Community Development Scholarship',
                subtitle: '(For Rural Community Leaders)',
                logo: 'https://placehold.co/40x40/e0f7e0/008000?text=NGO',
                favorites: 20,
                tags: ['Bachelor', 'Partially Funded', 'Cambodia', 'Community Development'],
                details: {
                    studyIn: 'Cambodia',
                    type: 'Partially Funded',
                    degree: 'Bachelor',
                    deadline: '15-Feb-2026'
                },
                description: 'A scholarship offered by a local Cambodian NGO to support students from rural communities who are committed to returning and contributing to their local development after graduation.',
                benefits: [
                    'Partial tuition fees', 'Mentorship from NGO staff',
                    'Practical experience in community projects', 'Networking opportunities with community leaders'
                ],
                university: 'Regional Universities/Colleges in Cambodia',
                major: 'Social Work, Rural Development, Public Health, Education',
                eligibility: {
                    gpa: '2.8+', maxAge: '25', grade: 'High School Graduate', gender: 'Any', ielts: 'Not required', workExperience: 'Preferred (volunteer work)',
                    detailedRequirements: [
                        'Cambodian citizenship, residing in a rural area', 'Demonstrated commitment to community service',
                        'Leadership potential within their community', 'Interview with NGO representatives'
                    ]
                },
                eligibleCountries: ['Cambodia'],
                requiredDocuments: [
                    'High school certificate', 'Personal statement outlining community goals',
                    'Letter of support from local community leader', 'Proof of residency'
                ],
                howToApply: 'Applications are submitted directly to the participating NGO. The selection process involves a written application, an interview, and a community assessment visit.'
            },
            {
                id: 'stem-cambodia-10',
                title: 'Cambodia STEM Future Leaders Scholarship',
                subtitle: '(Science, Technology, Engineering, Math)',
                logo: 'https://placehold.co/40x40/e0f0f7/007bff?text=STEM',
                favorites: 50,
                tags: ['Bachelor', 'Master', 'Fully Funded', 'Cambodia', 'STEM'],
                details: {
                    studyIn: 'Cambodia',
                    type: 'Fully Funded',
                    degree: 'Bachelor/Master',
                    deadline: '01-Jan-2026'
                },
                description: 'This scholarship aims to foster the next generation of STEM leaders in Cambodia by providing full financial support for students pursuing degrees in science, technology, engineering, and mathematics at leading Cambodian institutions.',
                benefits: [
                    'Full tuition fees and university charges', 'Monthly living allowance',
                    'Research grants (for Master\'s students)', 'Access to specialized labs',
                    'Internship opportunities with tech companies'
                ],
                university: 'Institute of Technology of Cambodia (ITC), Royal University of Phnom Penh (RUPP)',
                major: 'Computer Science, Software Engineering, Data Science, Electrical Engineering, Civil Engineering, Physics, Chemistry, Mathematics',
                eligibility: {
                    gpa: '3.7+', maxAge: '22 (Bachelor), 28 (Master)', grade: 'High School Graduate (for Bachelor), Bachelor\'s Degree (for Master)', gender: 'Any', ielts: '6.0 (preferred)', workExperience: 'Not required (Bachelor), Preferred (Master)',
                    detailedRequirements: [
                        'Cambodian citizenship', 'Exceptional academic record in STEM subjects',
                        'Strong analytical and critical thinking skills', 'Demonstrated passion for innovation'
                    ]
                },
                eligibleCountries: ['Cambodia'],
                requiredDocuments: [
                    'Academic transcripts', 'Motivation letter highlighting STEM interest',
                    'Two academic recommendation letters (especially from science/math teachers)',
                    'Portfolio of relevant projects (optional but recommended)'
                ],
                howToApply: 'Applications are submitted online through a dedicated portal. Shortlisted candidates will be invited for a rigorous STEM aptitude test and an interview with a panel of experts.'
            }
        ];

        // Global flag to simulate login status
        let isLoggedIn = false;
        let currentScholarshipId = null; // To store the ID of the scholarship clicked before login

        // Get references to main view elements
        const scholarshipListView = document.getElementById('scholarshipListView');
        const scholarshipDetailView = document.getElementById('scholarshipDetailView');
        const scholarshipCardsGrid = document.getElementById('scholarshipCardsGrid');
        const backToScholarshipsBtn = document.getElementById('backToScholarshipsBtn');

        // Get references to detail view elements
        const detailScholarshipLogo = document.getElementById('detailScholarshipLogo');
        const detailScholarshipTitle = document.getElementById('detailScholarshipTitle');
        const detailScholarshipSubtitle = document.getElementById('detailScholarshipSubtitle');
        const detailStudyIn = document.getElementById('detailStudyIn');
        const detailType = document.getElementById('detailType');
        const detailDegree = document.getElementById('detailDegree');
        const detailDeadline = document.getElementById('detailDeadline');
        const detailDescription = document.getElementById('detailDescription');
        const detailBenefits = document.getElementById('detailBenefits');
        const detailUniversity = document.getElementById('detailUniversity');
        const detailMajor = document.getElementById('detailMajor');
        const detailGPA = document.getElementById('detailGPA');
        const detailMaxAge = document.getElementById('detailMaxAge');
        const detailGrade = document.getElementById('detailGrade');
        const detailGender = document.getElementById('detailGender');
        const detailIELTS = document.getElementById('detailIELTS');
        const detailWorkExperience = document.getElementById('detailWorkExperience');
        const detailDetailedRequirements = document.getElementById('detailDetailedRequirements');
        const detailEligibleCountries = document.getElementById('detailEligibleCountries');
        const detailRequiredDocuments = document.getElementById('detailRequiredDocuments');
        const detailHowToApply = document.getElementById('detailHowToApply');

        // Get references to modal elements
        const authModal = document.getElementById('authModal');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const authForm = document.getElementById('authForm');
        const emailInput = document.getElementById('email');
        const passwordInput = document.getElementById('password');
        const loginBtn = document.getElementById('loginBtn');
        const signupBtn = document.getElementById('signupBtn');
        const authMessage = document.getElementById('authMessage');

        // Function to render scholarship cards
        function renderScholarshipCards(filteredScholarships = scholarshipsData) {
            scholarshipCardsGrid.innerHTML = ''; // Clear existing cards
            if (filteredScholarships.length === 0) {
                scholarshipCardsGrid.innerHTML = '<p class="text-center text-gray-600 col-span-full">No scholarships found matching your criteria.</p>';
                return;
            }

            filteredScholarships.forEach(scholarship => {
                const cardHtml = `
                    <div class="scholarship-card bg-white rounded-xl shadow-md p-5 relative" tabindex="0" data-id="${scholarship.id}">
                        <span class="absolute top-3 right-3 text-gray-500 text-sm">${scholarship.favorites}</span>
                        <div class="flex items-start mb-4">
                            <img src="${scholarship.logo}" alt="Scholarship Logo" class="rounded-full mr-3 shadow-sm w-10 h-10">
                            <div>
                                <h3 class="font-semibold text-gray-900 text-lg">${scholarship.title}</h3>
                                <p class="text-gray-600 text-sm">${scholarship.subtitle}</p>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 gap-2 text-gray-700 text-sm mb-4">
                            <p><i class="fas fa-map-marker-alt text-blue-500 mr-2"></i>Study in: <span class="font-medium">${scholarship.details.studyIn}</span></p>
                            <p><i class="fas fa-tag text-blue-500 mr-2"></i>Type: <span class="font-medium">${scholarship.details.type}</span></p>
                            <p><i class="fas fa-graduation-cap text-blue-500 mr-2"></i>Degree: <span class="font-medium">${scholarship.details.degree}</span></p>
                            <p><i class="fas fa-calendar-alt text-blue-500 mr-2"></i>Deadline: <span class="font-medium">${scholarship.details.deadline}</span></p>
                        </div>
                        <p class="text-gray-500 text-xs mb-4">${scholarship.favorites} Favorites</p>
                        <div class="flex justify-around border-t border-gray-200 pt-4">
                            <button class="flex items-center text-gray-600 hover:text-blue-600 transition-colors text-sm" aria-label="Favorite">
                                <i class="far fa-heart mr-2"></i>Favorite
                            </button>
                            
                            <button class="flex items-center text-gray-600 hover:text-blue-600 transition-colors text-sm" aria-label="Share">
                                <i class="fas fa-share-alt mr-2"></i>Share
                            </button>
                        </div>
                    </div>
                `;
                scholarshipCardsGrid.insertAdjacentHTML('beforeend', cardHtml);
            });

            // Add click listeners to newly rendered cards
            document.querySelectorAll('.scholarship-card').forEach(card => {
                card.addEventListener('click', function() {
                    const scholarshipId = this.dataset.id;
                    handleScholarshipCardClick(scholarshipId);
                });
            });
        }

        // Function to handle scholarship card click (with login check)
        function handleScholarshipCardClick(id) {
            if (isLoggedIn) {
                renderScholarshipDetails(id);
            } else {
                currentScholarshipId = id; // Store the ID for after login
                showAuthModal();
            }
        }

        // Function to show the authentication modal
        function showAuthModal() {
            authModal.classList.remove('hidden');
            authMessage.classList.add('hidden'); // Hide any previous messages
            emailInput.value = ''; // Clear inputs
            passwordInput.value = '';
        }

        // Function to hide the authentication modal
        function hideAuthModal() {
            authModal.classList.add('hidden');
        }

        // Simulate authentication (for demonstration purposes)
        function handleAuth() {
            const email = emailInput.value;
            const password = passwordInput.value;

            // Simple validation
            if (!email || !password) {
                authMessage.textContent = 'Please enter both email and password.';
                authMessage.classList.remove('hidden');
                return;
            }

            // Simulate successful login/signup
            isLoggedIn = true;
            authMessage.textContent = 'Success! Redirecting to scholarship details...';
            authMessage.classList.remove('hidden');
            authMessage.classList.remove('text-red-500');
            authMessage.classList.add('text-green-600');

            setTimeout(() => {
                hideAuthModal();
                if (currentScholarshipId) {
                    renderScholarshipDetails(currentScholarshipId);
                    currentScholarshipId = null; // Clear stored ID
                }
            }, 1500); // Simulate a delay for login
        }

        // Function to render scholarship details
        function renderScholarshipDetails(id) {
            const scholarship = scholarshipsData.find(s => s.id === id);
            if (!scholarship) {
                console.error('Scholarship not found:', id);
                return;
            }

            // Populate detail view
            detailScholarshipLogo.src = scholarship.logo;
            detailScholarshipTitle.textContent = scholarship.title;
            detailScholarshipSubtitle.textContent = scholarship.subtitle;
            detailStudyIn.textContent = scholarship.details.studyIn;
            detailType.textContent = scholarship.details.type;
            detailDegree.textContent = scholarship.details.degree;
            detailDeadline.textContent = scholarship.details.deadline;
            detailDescription.textContent = scholarship.description;

            // Populate lists (benefits, detailed requirements, eligible countries, required documents)
            detailBenefits.innerHTML = scholarship.benefits.map(item => `<li>${item}</li>`).join('');
            detailUniversity.textContent = scholarship.university;
            detailMajor.textContent = scholarship.major;
            detailGPA.textContent = scholarship.eligibility.gpa;
            detailMaxAge.textContent = scholarship.eligibility.maxAge;
            detailGrade.textContent = scholarship.eligibility.grade;
            detailGender.textContent = scholarship.eligibility.gender;
            detailIELTS.textContent = scholarship.eligibility.ielts;
            detailWorkExperience.textContent = scholarship.eligibility.workExperience;
            detailDetailedRequirements.innerHTML = scholarship.eligibility.detailedRequirements.map(item => `<li>${item}</li>`).join('');
            detailEligibleCountries.innerHTML = scholarship.eligibleCountries.map(item => `<li>${item}</li>`).join('');
            detailRequiredDocuments.innerHTML = scholarship.requiredDocuments.map(item => `<li>${item}</li>`).join('');
            detailHowToApply.textContent = scholarship.howToApply;

            // Show detail view, hide list view
            scholarshipListView.classList.add('hidden');
            scholarshipDetailView.classList.remove('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' }); // Scroll to top
        }

        // Event listener for "Back to Scholarships" button
        backToScholarshipsBtn.addEventListener('click', function() {
            scholarshipDetailView.classList.add('hidden');
            scholarshipListView.classList.remove('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' }); // Scroll to top
        });

        // Scholarship search function
        function doScholarshipSearch() {
            const input = document.getElementById('scholarshipSearchInput');
            const query = input.value.toLowerCase().trim();
            const filtered = scholarshipsData.filter(scholarship =>
                scholarship.title.toLowerCase().includes(query) ||
                scholarship.subtitle.toLowerCase().includes(query) ||
                scholarship.description.toLowerCase().includes(query) ||
                scholarship.details.studyIn.toLowerCase().includes(query) ||
                scholarship.tags.some(tag => tag.toLowerCase().includes(query))
            );
            renderScholarshipCards(filtered);
        }

        // Filter button active state and filtering logic
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active', 'bg-blue-600', 'text-white'));
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.add('bg-white', 'text-gray-700')); // Reset non-active styles

                this.classList.add('active', 'bg-blue-600', 'text-white');
                this.classList.remove('bg-white', 'text-gray-700');

                const filterType = this.dataset.filter;
                let filteredScholarships = [];

                if (filterType === 'All') {
                    filteredScholarships = scholarshipsData;
                } else {
                    filteredScholarships = scholarshipsData.filter(scholarship =>
                        scholarship.tags.includes(filterType) ||
                        scholarship.details.type.includes(filterType) || // Filter by 'Fully Funded' or 'Partially Funded'
                        scholarship.details.degree.includes(filterType) // Filter by 'Bachelor', 'Master', 'PhD'
                    );
                }
                renderScholarshipCards(filteredScholarships);
            });
        });

        // Event listeners for modal buttons
        closeModalBtn.addEventListener('click', hideAuthModal);
        loginBtn.addEventListener('click', handleAuth);
        signupBtn.addEventListener('click', handleAuth); // Both buttons trigger the same simulated auth for now

        // Initial render of scholarship cards when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            renderScholarshipCards();
        });

//------------------profile icon-------------------------------
    const profileIconBtn = document.getElementById('profileIconBtn');
    const profileDropdown = document.getElementById('profileDropdown');

    profileIconBtn.addEventListener('click', (e) => {
        e.stopPropagation(); // Prevent dropdown from closing immediately
        profileDropdown.classList.toggle('hidden');
    });

    document.addEventListener('click', (e) => {
        if (!profileDropdown.contains(e.target)) {
            profileDropdown.classList.add('hidden');
        }
    });

    function handleLogout() {
        isLoggedIn = false;
        alert("Logged out.");
        // Optional: Redirect to login page or homepage
    }

    </script>
</body>
</html>


