<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Scholarships | Scholarship Platform</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
         body {
      font-family: "Inter", sans-serif;
      margin: 0;
      background-color: #f0f2f5;
    }
    .header {
      background-color: #fff;
      width: 100%;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      position: sticky;
      top: 0;
      z-index: 100;
      display: flex;
      flex-direction: column; /* Stack vertically */
      align-items: stretch;
    }
    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
    }
    .header-logo {
      font-size: 1.5rem;
      font-weight: 700;
      color: #3b82f6;
      letter-spacing: -1px;
    }
    nav {
      display: flex;
      align-items: center;
      gap: 1.5rem;
    }
    .nav-link {
      color: #4b5563;
      font-weight: 500;
      text-decoration: none;
      transition: color 0.2s;
      font-size: 1rem;
    }
    .nav-link:hover,
    .nav-link:focus {
      color: #2563eb;
      outline: none;
    }
        .hero-section {
            background: linear-gradient(120deg, #52549c 0%, #362ab8 100%);
            color: white;
            width: 100%;
            padding: 4rem 1rem 3rem 1rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .hero-section h1 { font-size: 2.8rem; font-weight: 800; margin-bottom: 1rem; letter-spacing: -1px; }
        .hero-section p { font-size: 1.25rem; margin-bottom: 2rem; max-width: 600px; margin-left: auto; margin-right: auto; }
        .hero-section .cta-btn {
            background: #fff;
            color: #3b82f6;
            font-weight: 700;
            padding: 0.9rem 2.2rem;
            border-radius: 0.75rem;
            font-size: 1.15rem;
            box-shadow: 0 6px 20px rgba(59,130,246,0.13);
            transition: background 0.2s, color 0.2s, transform 0.1s;
        }
        .hero-section .cta-btn:hover {
            background: #3b82f6;
            color: #fff;
            transform: translateY(-2px) scale(1.03);
        }
        .search-bar input {
            border-radius: 1.5rem;
            padding-left: 2.5rem;
        }
        .search-bar i {
            left: 1rem;
        }
        .filter-btn.active, .filter-btn:focus {
            background: #2563eb;
            color: #fff;
            outline: none;
        }
        .scholarship-card {
            transition: box-shadow 0.2s, transform 0.2s;
            cursor: pointer; /* Indicate clickability */
        }
        .scholarship-card:hover, .scholarship-card:focus-within {
            box-shadow: 0 8px 24px rgba(59,130,246,0.13);
            transform: translateY(-4px) scale(1.01);
            outline: none;
        }
        .footer-links a {
            color: #93c5fd;
            margin: 0 0.75rem;
            text-decoration: none;
            transition: color 0.2s;
        }
        .footer-links a:hover, .footer-links a:focus {
            color: #60a5fa;
            outline: none;
        }
        .social-icons a {
            color: #d1d5db;
            font-size: 1.5rem;
            margin: 0 0.75rem;
            transition: color 0.2s;
        }
        .social-icons a:hover, .social-icons a:focus {
            color: #fff;
            outline: none;
        }
        @media (max-width: 900px) {
            .scholarship-card {
                min-height: 0;
            }
        }
        /* Custom scrollbar for main content area */
        .scrollable-content::-webkit-scrollbar {
            width: 8px;
        }
        .scrollable-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .scrollable-content::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        .scrollable-content::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        /* Modal specific styles */
        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.75);
        }
        .modal-content {
            animation: fadeInScale 0.3s ease-out forwards;
        }
        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        .detail-section {
            padding: 1.5rem; /* Default padding */
            margin-bottom: 1rem; /* Default margin */
        }
        @media (min-width: 768px) { /* Adjust padding for larger screens */
            .detail-section {
                padding: 2rem;
            }
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header Section -->
    <header class="bg-white p-4 shadow-sm sticky top-0 z-50">
        <div class="container mx-auto flex items-center justify-between">
            <div class="flex items-center space-x-3">
                <div class="header-logo">Scholarship Events</div>
            </div>
             <nav class="flex items-center">
                <a href="../index.html" class="nav-link">Home</a>
                 <a href="recmm.html" class="nav-link">Quizzes</a> 
                 <a href="university-list.html" class="nav-link">Universities</a>
                <a href="all-scholarship.html" class="nav-link">Scholarships</a>
                
                <!-- Profile Icon Button -->
                        <a href="../html/user-dashboard.html" id="profileIconBtn" class="text-gray-700 hover:text-blue-600 text-4xl focus:outline-none" aria-label="Profile">
                         <i class="fas fa-user-circle"></i>
                         </a>

            </nav>
        </div>
        <!-- Search Bar -->
        <div class="container mx-auto mt-4 px-4">
            <form class="relative search-bar" onsubmit="event.preventDefault(); doScholarshipSearch();">
                <input id="scholarshipSearchInput" type="text" placeholder="Search Scholarships..." class="w-full pl-10 pr-4 py-2 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm" aria-label="Search Scholarships">
                <i class="fas fa-search absolute left-6 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                <button type="submit" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-blue-600 text-white px-3 py-1 rounded-full hover:bg-blue-700 transition-colors" aria-label="Search">
                    <i class="fas fa-arrow-right"></i>
                </button>
            </form>
        </div>
        <!-- Filter Buttons -->
        <div class="container mx-auto mt-4 overflow-x-auto whitespace-nowrap scrollbar-hide">
            <div id="filterButtons" class="inline-flex space-x-3 pb-2 px-4">
                <button class="filter-btn bg-blue-600 text-white px-5 py-2 rounded-full shadow-md hover:bg-blue-700 transition-colors text-sm active" data-filter="All" tabindex="0">All</button>
                <button class="filter-btn bg-white text-gray-700 px-5 py-2 rounded-full border border-gray-300 shadow-sm hover:bg-gray-100 transition-colors text-sm" data-filter="Bachelor" tabindex="0">Bachelor</button>
                <button class="filter-btn bg-white text-gray-700 px-5 py-2 rounded-full border border-gray-300 shadow-sm hover:bg-gray-100 transition-colors text-sm" data-filter="Master" tabindex="0">Master</button>
                <button class="filter-btn bg-white text-gray-700 px-5 py-2 rounded-full border border-gray-300 shadow-sm hover:bg-gray-100 transition-colors text-sm" data-filter="Fully Funded" tabindex="0">Fully Funded</button>
                <button class="filter-btn bg-white text-gray-700 px-5 py-2 rounded-full border border-gray-300 shadow-sm hover:bg-gray-100 transition-colors text-sm" data-filter="Partially Funded" tabindex="0">Partially Funded</button>
                <button class="filter-btn bg-white text-gray-700 px-5 py-2 rounded-full border border-gray-300 shadow-sm hover:bg-gray-100 transition-colors text-sm" data-filter="STEM" tabindex="0">STEM</button>
                <button class="filter-btn bg-white text-gray-700 px-5 py-2 rounded-full border border-gray-300 shadow-sm hover:bg-gray-100 transition-colors text-sm" data-filter="Humanities" tabindex="0">Humanities</button>
                <button class="filter-btn bg-white text-gray-700 px-5 py-2 rounded-full border border-gray-300 shadow-sm hover:bg-gray-100 transition-colors text-sm" data-filter="Business" tabindex="0">Business</button>
            </div>
        </div>
    </header>

    <!-- Main Content Section -->
    <main class="flex-grow container mx-auto p-4 pt-0 overflow-y-auto scrollable-content">
        
        
        <!-- Scholarship List View -->
<div id="scholarshipListView">
  <div id="scholarshipCardsGrid" class="grid grid-cols-3 gap-4"></div>
</div>

<!-- Scholarship Detail View -->
<div id="scholarshipDetailView" class="hidden container mx-auto p-4 pt-0">
    <div class="mb-4">
        <a id="backToScholarshipsBtn" href="#" class="flex items-center text-gray-600 hover:text-blue-600 transition-colors text-sm">
            <i class="fas fa-arrow-left mr-2"></i>Back to Scholarships
        </a>
    </div>

    <div class="bg-white rounded-xl shadow-md p-6 mb-4 flex flex-col md:flex-row justify-between items-start md:items-center">
        <div class="flex items-start mb-4 md:mb-0">
            <img id="detailScholarshipLogo" src="default_logo.png" alt="Scholarship Logo" class="w-16 h-16 rounded-full mr-4">
            <div>
                <h2 id="detailScholarshipTitle" class="text-2xl font-bold text-gray-900"></h2>
                <p id="detailScholarshipSubtitle" class="text-gray-600"></p>
            </div>
        </div>
        <button id="detailFavoriteBtn" class="favorite-btn flex items-center text-gray-600 hover:text-blue-600 transition-colors text-sm" aria-label="Favorite" data-id="">
    <i class="far fa-heart mr-2"></i><span>Favorite</span>
</button>
    </div>

    <div class="bg-white rounded-xl shadow-md p-6 mb-4 grid grid-cols-1 md:grid-cols-2 gap-y-4 text-sm">
        <p><i class="fas fa-map-marker-alt text-blue-500 mr-2"></i>Study in: <span id="detailStudyIn" class="font-medium">Cambodia</span></p>
        <p><i class="fas fa-tag text-blue-500 mr-2"></i>Type: <span id="detailType" class="font-medium">Fully Funded</span></p>
        <p><i class="fas fa-graduation-cap text-blue-500 mr-2"></i>Degree: <span id="detailDegree" class="font-medium">Bachelor</span></p>
        <p><i class="fas fa-calendar-alt text-blue-500 mr-2"></i>Deadline: <span id="detailDeadline" class="font-medium">15-Oct-2025</span></p>
    </div>

    <div class="bg-white rounded-xl shadow-md p-6 mb-4">
        <h3 class="font-bold text-xl mb-3 text-gray-800">Scholarship Description</h3>
        <p id="detailDescription" class="text-gray-700 leading-relaxed"></p>
    </div>

    <div class="bg-white rounded-xl shadow-md p-6 mb-4">
        <h3 class="font-bold text-xl mb-3 text-gray-800">Scholarship Benefits</h3>
        <ul id="detailBenefits" class="list-disc list-inside space-y-1 text-gray-700"></ul>
    </div>
    
    <div class="bg-white rounded-xl shadow-md p-6 mb-4">
        <h3 class="font-bold text-xl mb-3 text-gray-800">University</h3>
        <p id="detailUniversity" class="text-gray-700 leading-relaxed"></p>
    <h3 class="font-bold text-xl mb-3 text-gray-800">Major</h3>
    <p id="detailMajor" class="text-gray-700 leading-relaxed"></p>
</div>
    
    <div class="bg-white rounded-xl shadow-md p-6 mb-4">
        <h3 class="font-bold text-xl mb-3 text-gray-800">Eligibility Requirements</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-y-2 text-gray-700">
            <div>
                <p><strong class="font-semibold text-gray-900">GPA:</strong> <span id="detailGPA"></span></p>
                <p><strong class="font-semibold text-gray-900">Grade:</strong> <span id="detailGrade"></span></p>
                <p><strong class="font-semibold text-gray-900">IELTS:</strong> <span id="detailIELTS"></span></p>
            </div>
            <div>
                <p><strong class="font-semibold text-gray-900">Max Age:</strong> <span id="detailMaxAge"></span></p>
                <p><strong class="font-semibold text-gray-900">Gender:</strong> <span id="detailGender"></span></p>
                <p><strong class="font-semibold text-gray-900">Work Experience:</strong> <span id="detailWorkExperience"></span></p>
            </div>
        </div>
    </div>

    <div class="bg-white rounded-xl shadow-md p-6 mb-4">
        <h3 class="font-bold text-xl mb-3 text-gray-800">Requirement Details</h3>
        <ul id="detailDetailedRequirements" class="list-disc list-inside space-y-1 text-gray-700">
            </ul>
    </div>
    
    <div class="bg-white rounded-xl shadow-md p-6 mb-4">
        <h3 class="font-bold text-xl mb-3 text-gray-800">Eligible Countries</h3>
        <ul id="detailEligibleCountries" class="list-disc list-inside space-y-1 text-gray-700"></ul>
    </div>
    
    <div class="bg-white rounded-xl shadow-md p-6 mb-4">
        <h3 class="font-bold text-xl mb-3 text-gray-800">Required Document</h3>
        <ul id="detailRequiredDocuments" class="list-disc list-inside space-y-1 text-gray-700"></ul>
    </div>
    
    <div class="bg-white rounded-xl shadow-md p-6 mb-4">
        <h3 class="font-bold text-xl mb-3 text-gray-800">How to Apply</h3>
        <p id="detailHowToApply" class="text-gray-700 leading-relaxed"></p>
    </div>
</div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white p-6 text-center text-sm mt-8">
        <div class="flex flex-col md:flex-row justify-between items-center max-w-5xl mx-auto">
            <div class="footer-links mb-2">
                <a href="#">Terms of Use</a> |
                <a href="#">Privacy Policy</a> |
                <a href="#">Return Policy</a>
            </div>
            <div class="social-icons mb-2">
                <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
            </div>
        </div>
        <p class="mt-2">&copy; 2025 Scholarship Platform. All rights reserved.</p>
    </footer>

   <script>
let scholarshipsData = [];

// References to main view elements
const scholarshipListView = document.getElementById('scholarshipListView');
const scholarshipDetailView = document.getElementById('scholarshipDetailView');
const scholarshipCardsGrid = document.getElementById('scholarshipCardsGrid');
const backToScholarshipsBtn = document.getElementById('backToScholarshipsBtn');

// References to detail view elements
const detailScholarshipLogo = document.getElementById('detailScholarshipLogo');
const detailScholarshipTitle = document.getElementById('detailScholarshipTitle');
const detailScholarshipSubtitle = document.getElementById('detailScholarshipSubtitle');
const detailStudyIn = document.getElementById('detailStudyIn');
const detailType = document.getElementById('detailType');
const detailDegree = document.getElementById('detailDegree');
const detailDeadline = document.getElementById('detailDeadline');
const detailDescription = document.getElementById('detailDescription');
const detailBenefits = document.getElementById('detailBenefits');
const detailUniversity = document.getElementById('detailUniversity');
const detailMajor = document.getElementById('detailMajor');
const detailGPA = document.getElementById('detailGPA');
const detailMaxAge = document.getElementById('detailMaxAge');
const detailGrade = document.getElementById('detailGrade');
const detailGender = document.getElementById('detailGender');
const detailIELTS = document.getElementById('detailIELTS');
const detailWorkExperience = document.getElementById('detailWorkExperience');
const detailDetailedRequirements = document.getElementById('detailDetailedRequirements');
const detailEligibleCountries = document.getElementById('detailEligibleCountries');
const detailRequiredDocuments = document.getElementById('detailRequiredDocuments');
const detailHowToApply = document.getElementById('detailHowToApply');
const detailFavoriteBtn = document.getElementById('detailFavoriteBtn');

// Load scholarships from PHP backend
function loadScholarships() {
    fetch('../php/get_scholarships.php')
        .then(res => res.json())
        .then(data => {
            // isFavoritedByUser is set by PHP for current user
            scholarshipsData = data.map(s => ({
                ...s,
                isFavorited: s.isFavoritedByUser
            }));
            renderScholarshipCards();
        })
        .catch(err => {
            console.error('Error loading scholarships:', err);
            scholarshipCardsGrid.innerHTML = '<p class="text-center text-red-500 col-span-full">Failed to load scholarships.</p>';
        });
}

// Render scholarship cards
function renderScholarshipCards(filtered = scholarshipsData) {
    scholarshipCardsGrid.innerHTML = '';
    if (!filtered.length) {
        scholarshipCardsGrid.innerHTML = '<p class="text-center text-gray-600 col-span-full">No scholarships found.</p>';
        return;
    }

    filtered.forEach(sch => {
        const heartClass = sch.isFavorited ? 'fas' : 'far';
        const buttonText = sch.isFavorited ? 'Favorited' : 'Favorite';
        const cardHtml = `
            <div class="scholarship-card bg-white rounded-xl shadow-md p-5 relative" tabindex="0" data-id="${sch.id}">
                <div class="flex items-start mb-4">
                    <img src="${sch.logo}" alt="Scholarship Logo" class="rounded-full mr-3 shadow-sm w-10 h-10"
                        onerror="this.onerror=null;this.src='https://ui-avatars.com/api/?name=Scholarship';">
                    <div>
                        <h3 class="font-semibold text-gray-900 text-lg">${sch.title}</h3>
                        <p class="text-gray-600 text-sm">${sch.subtitle}</p>
                    </div>
                </div>
                <div class="grid grid-cols-1 gap-2 text-gray-700 text-sm mb-4">
                    <p><i class="fas fa-map-marker-alt text-blue-500 mr-2"></i>Study in: <span class="font-medium">${sch.details.studyIn}</span></p>
                    <p><i class="fas fa-tag text-blue-500 mr-2"></i>Type: <span class="font-medium">${sch.details.type}</span></p>
                    <p><i class="fas fa-graduation-cap text-blue-500 mr-2"></i>Degree: <span class="font-medium">${sch.details.degree}</span></p>
                    <p><i class="fas fa-calendar-alt text-blue-500 mr-2"></i>Deadline: <span class="font-medium">${sch.details.deadline}</span></p>
                </div>
                <div class="flex justify-between items-center border-t border-gray-200 pt-4">
                    <p class="text-gray-500 text-xs">${sch.favorites} Favorites</p>
                    <button class="favorite-btn flex items-center text-gray-600 hover:text-blue-600 transition-colors text-sm" aria-label="Favorite" data-id="${sch.id}">
                        <i class="${heartClass} fa-heart mr-2"></i>${buttonText}
                    </button>
                </div>
            </div>
        `;
        scholarshipCardsGrid.insertAdjacentHTML('beforeend', cardHtml);
    });
}

// Render scholarship detail view
function renderScholarshipDetails(id) {
    const sch = scholarshipsData.find(s => s.id == id);
    if (!sch) return alert('Scholarship not found.');

    detailScholarshipLogo.src = sch.logo;
    detailScholarshipTitle.textContent = sch.title;
    detailScholarshipSubtitle.textContent = sch.subtitle;
    detailStudyIn.textContent = sch.details.studyIn;
    detailType.textContent = sch.details.type;
    detailDegree.textContent = sch.details.degree;
    detailDeadline.textContent = sch.details.deadline;
    detailDescription.textContent = sch.description;
    detailBenefits.innerHTML = (sch.benefits || []).map(i => `<li>${i}</li>`).join('');
    detailUniversity.textContent = sch.university;
    detailMajor.textContent = sch.major;
    detailGPA.textContent = sch.eligibility.gpa;
    detailMaxAge.textContent = sch.eligibility.maxAge;
    detailGrade.textContent = sch.eligibility.grade;
    detailGender.textContent = sch.eligibility.gender;
    detailIELTS.textContent = sch.eligibility.ielts;
    detailWorkExperience.textContent = sch.eligibility.workExperience;
    detailDetailedRequirements.innerHTML = (sch.eligibility.detailedRequirements || []).map(i => `<li>${i}</li>`).join('');
    detailEligibleCountries.innerHTML = (sch.eligibleCountries || []).map(i => `<li>${i}</li>`).join('');
    detailRequiredDocuments.innerHTML = (sch.requiredDocuments || []).map(i => `<li>${i}</li>`).join('');
    detailHowToApply.textContent = sch.howToApply;

    // Detail favorite button
    detailFavoriteBtn.dataset.id = sch.id;
    const icon = detailFavoriteBtn.querySelector('i');
    if (sch.isFavorited) {
        icon.classList.remove('far');
        icon.classList.add('fas');
        detailFavoriteBtn.querySelector('span').textContent = 'Favorited';
    } else {
        icon.classList.remove('fas');
        icon.classList.add('far');
        detailFavoriteBtn.querySelector('span').textContent = 'Favorite';
    }

    scholarshipListView.classList.add('hidden');
    scholarshipDetailView.classList.remove('hidden');
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

// Back button
backToScholarshipsBtn.addEventListener('click', e => {
    e.preventDefault();
    scholarshipDetailView.classList.add('hidden');
    scholarshipListView.classList.remove('hidden');
    window.scrollTo({ top: 0, behavior: 'smooth' });
});

// Search
function doScholarshipSearch() {
    const query = document.getElementById('scholarshipSearchInput').value.toLowerCase().trim();
    const filtered = scholarshipsData.filter(sch =>
        sch.title.toLowerCase().includes(query) ||
        sch.subtitle.toLowerCase().includes(query) ||
        sch.description.toLowerCase().includes(query) ||
        (sch.details.studyIn && sch.details.studyIn.toLowerCase().includes(query)) ||
        (sch.tags && sch.tags.some(tag => tag.toLowerCase().includes(query)))
    );
    renderScholarshipCards(filtered);
}

// Filter buttons
document.querySelectorAll('.filter-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active', 'bg-blue-600', 'text-white'));
        this.classList.add('active', 'bg-blue-600', 'text-white');
        const filter = this.dataset.filter;
        const filtered = filter === 'All' ? scholarshipsData : scholarshipsData.filter(sch =>
            (sch.tags && sch.tags.includes(filter)) ||
            (sch.details.type && sch.details.type.includes(filter)) ||
            (sch.details.degree && sch.details.degree.includes(filter))
        );
        renderScholarshipCards(filtered);
    });
});

// Toggle favorite
function toggleFavorite(event, scholarshipId) {
    event.stopPropagation();
    fetch('../php/toggle_favorite.php', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: 'scholarship_id=' + encodeURIComponent(scholarshipId)
    })
    .then(res => res.json())
    .then(data => {
        if (data.success) {
            const sch = scholarshipsData.find(s => s.id == scholarshipId);
            sch.isFavorited = !sch.isFavorited; // toggle current user
            renderScholarshipCards();
            if (!scholarshipDetailView.classList.contains('hidden')) {
                renderScholarshipDetails(scholarshipId);
            }
        } else alert(data.message);
    })
    .catch(err => { console.error(err); alert('Something went wrong.'); });
}

// Card click and favorite click
scholarshipCardsGrid.addEventListener('click', e => {
    const favBtn = e.target.closest('.favorite-btn');
    if (favBtn) toggleFavorite(e, favBtn.dataset.id);
    else {
        const card = e.target.closest('.scholarship-card');
        if (card) renderScholarshipDetails(card.dataset.id);
    }
});

// Detail favorite button click
detailFavoriteBtn.addEventListener('click', e => {
    toggleFavorite(e, detailFavoriteBtn.dataset.id);
});

// Load scholarships on page load
document.addEventListener('DOMContentLoaded', loadScholarships);


// Check URL for scholarship ID and open detail view
function openDetailFromURL() {
    const params = new URLSearchParams(window.location.search);
    const scholarshipId = params.get('id');
    if (scholarshipId) {
        // Wait until scholarships are loaded
        const interval = setInterval(() => {
            if (scholarshipsData.length > 0) {
                clearInterval(interval);
                renderScholarshipDetails(scholarshipId);
            }
        }, 100);
    }
}

// Call after DOMContentLoaded
document.addEventListener('DOMContentLoaded', () => {
    loadScholarships();
    openDetailFromURL();
});

</script>



</body>
</html>
